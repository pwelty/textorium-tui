---
title: "Work log: Textorium TUI - February 6, 2026"
date: 2026-02-06T16:00:00-05:00
draft: true
categories: ["work-log", "textorium-tui"]
tags: ["development", "rust", "tui", "ratatui", "frontmatter", "roadmap"]
---

The whole project went from zero to public repo today — initial commit through Homebrew distribution — and the first real bug surfaced within minutes of actually using the thing. Which tells you something about the gap between "code that compiles" and "tool someone would reach for."

## What I built/fixed/changed

**Full project setup** (5 commits, ~3,200 lines): Initial commit with the complete Rust TUI codebase, GitHub Actions release workflow for dual-architecture macOS builds, README, CLAUDE.md development guide, and skill symlinks. The TUI was ported from a private monorepo into its own public repo at `pwelty/textorium-tui`.

**Metadata editor fix** (`src/tui/app.rs`, +64/-11 lines): The core bug — pressing Enter to edit an array field like `tags` showed an empty edit buffer because the match arm for `serde_json::Value::Array` was missing. The value fell through to `_ => String::new()`. Three changes:

1. Added `Wrap { trim: false }` to the metadata `Paragraph` so long tag lists wrap instead of clipping at the panel edge
2. String arrays now load as comma-separated text (`rust, tui, cli`) and save back as proper `serde_json::Value::Array` — preserving the YAML type round-trip
3. Complex nested fields (arrays of objects like `newsletter: [{item: value}]`) detect as non-editable inline and show a status message directing to `$EDITOR`. This prevents the same silent data destruction that forced a hotfix in the macOS Textorium app

**Q1 2026 roadmap**: Created ROADMAP.md with theme "Ship quality" and five milestones spanning Feb-Mar. Synced all milestones to Linear with target dates. The big bet: someone installs via Homebrew and thinks "this is a real tool."

## What this reveals

The frontmatter bug is a perfect case study in type system gaps. Rust's `serde_json::Value` enum has seven variants, and the original code handled three of them (`String`, `Bool`, `Number`). Arrays and objects fell through to a catch-all that returned empty strings. The type system didn't save us here because `match` with `_` is perfectly valid — it just silently does the wrong thing.

This same bug class hit the macOS SwiftUI app too. Different language, different UI framework, same root cause: frontmatter is a loosely-typed bag of values, and any editor that touches it has to handle the full type space or risk destroying data. The fix isn't just "handle arrays" — it's recognizing which types are safe to edit inline (scalars, string arrays) and which aren't (nested objects), then explicitly blocking the unsafe path.

The roadmap conversation was revealing too. When asked "what's the biggest blocker to delivering value?" the honest answer was "I don't know — I need to use it first." That's a signal. The tool has been built in a code-first mode without enough dogfooding. The "Ship quality" theme is really about closing that loop: use the tool, hit the rough edges, fix them, repeat until it feels like something you'd actually reach for over `grep` + Finder.

## Where this goes next

- Finish the Homebrew milestone (landing page updates for textorium.app)
- Start visual overhaul — the TUI layout, colors, and information density need to feel intentional rather than default
- Continue hardening the editor — undo support, confirmation on destructive actions
- Actually use `textorium` daily on the polymathic-h site (711 posts) to surface more rough edges
